import{a as f,h as w,l as g}from"./chunk-OIQXJ37N.js";import{d as u}from"./chunk-BLKSSZDW.js";import{A as v,B as l,Fa as h,ba as a,ca as c,g as p,ga as s,j as o,ma as d,n as _,y as m}from"./chunk-BNVGZSW7.js";var x={production:!1,weatherApiKey:"CWA-393DA01B-411F-4A80-AB59-6874C13A043B",weatherApiUrl:"https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-D0047-089?Authorization=",milestoneApiUrl:"json/milestones.json",flightApiUrl:"json/flights.json",fileApiUrl:"json/files.json"};var b=20,pe=(()=>{class i{constructor(e,t,r){this._ngZone=e,this._platform=t,this._scrolled=new o,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=b){return this._platform.isBrowser?new p(t=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(l(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let r=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(v(n=>!n||r.indexOf(n)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((r,n)=>{this._scrollableContainsElement(n,e)&&t.push(n)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let r=w(t),n=e.getElementRef().nativeElement;do if(r==n)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return m(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(t){return new(t||i)(s(h),s(f),s(u,8))}}static{this.\u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var y=20,_e=(()=>{class i{constructor(e,t,r){this._platform=e,this._change=new o,this._changeListener=n=>{this._change.next(n)},this._document=r,t.runOutsideAngular(()=>{if(e.isBrowser){let n=this._getWindow();n.addEventListener("resize",this._changeListener),n.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),r=e.documentElement,n=r.getBoundingClientRect(),C=-n.top||e.body.scrollTop||t.scrollY||r.scrollTop||0,R=-n.left||e.body.scrollLeft||t.scrollX||r.scrollLeft||0;return{top:C,left:R}}change(e=y){return e>0?this._change.pipe(l(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(t){return new(t||i)(s(f),s(h),s(u,8))}}static{this.\u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var S=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=d({type:i})}static{this.\u0275inj=c({})}}return i})(),me=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=d({type:i})}static{this.\u0275inj=c({imports:[g,S,g,S]})}}return i})();export{x as a,pe as b,_e as c,S as d,me as e};
